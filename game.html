<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Mini Juego Minecraft 2D</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
* {margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{width:100%;height:100%;overflow:hidden;position:fixed;}
body {font-family:'Press Start 2P',cursive;background:linear-gradient(180deg,#87CEEB 0%,#87CEEB 60%,#228B22 60%);display:flex;align-items:center;justify-content:center;touch-action:none;}
.screen {display:none;width:100%;max-width:1000px;padding:10px;}
.screen.active {display:block;animation:fadeIn 0.5s;}
@keyframes fadeIn {from{opacity:0;}to{opacity:1;}}
h1 {font-size:2rem;color:#fff;text-shadow:4px 4px 0 #000;margin-bottom:20px;text-align:center;line-height:1.5;}
.subtitle {font-size:0.9rem;color:#FFD700;margin-bottom:40px;text-align:center;text-shadow:2px 2px 0 #000;}
.characters-container {display:flex;gap:30px;justify-content:center;margin-bottom:30px;flex-wrap:wrap;}
.character-card {background:rgba(139,90,43,0.9);padding:30px;border:4px solid #654321;cursor:pointer;box-shadow:8px 8px 0 rgba(0,0,0,0.3);min-width:200px;text-align:center;}
.character-card:active {transform:translateY(2px);box-shadow:4px 4px 0 rgba(0,0,0,0.3);}
.character-avatar {width:120px;height:120px;margin:0 auto 20px;image-rendering:pixelated;background:#87CEEB;border:3px solid #000;}
.character-name {font-size:1.2rem;color:#FFD700;margin-bottom:15px;text-shadow:2px 2px 0 #000;}
.character-stats {font-size:0.6rem;color:#fff;margin:5px 0;text-shadow:1px 1px 0 #000;}
.game-hud {margin-bottom:10px;padding:12px;background:rgba(139,90,43,0.9);border:4px solid #654321;}
.hud-row {display:flex;justify-content:space-between;gap:15px;font-size:0.65rem;color:#fff;text-shadow:1px 1px 0 #000;flex-wrap:wrap;margin-bottom:8px;}
.hud-row:last-child{margin-bottom:0;}
.hud-item {display:flex;align-items:center;gap:5px;}
.hud-label {color:#FFD700;}
.hud-value {color:#00ff00;}
.mission-text{color:#FFD700;font-size:0.6rem;line-height:1.6;}
.game-info {display:flex;justify-content:space-between;margin-bottom:10px;padding:12px;background:rgba(139,90,43,0.9);border:4px solid #654321;flex-wrap:wrap;gap:10px;}
.info-item {font-size:0.65rem;color:#fff;text-shadow:1px 1px 0 #000;}
.info-label {color:#FFD700;}
.info-value {color:#00ff00;}
#gameCanvas {border:4px solid #654321;box-shadow:8px 8px 0 rgba(0,0,0,0.3);background:#87CEEB;display:block;margin:0 auto;image-rendering:pixelated;max-width:100%;touch-action:none;}
.controls-info {margin-top:10px;padding:12px;background:rgba(139,90,43,0.7);border:3px solid #654321;font-size:0.55rem;color:#fff;text-shadow:1px 1px 0 #000;text-align:center;line-height:1.6;}
.back-btn {margin-top:15px;background:#8B4513;color:#FFD700;border:4px solid #654321;padding:12px 25px;font-size:0.75rem;font-family:'Press Start 2P',cursive;cursor:pointer;box-shadow:6px 6px 0 rgba(0,0,0,0.3);text-shadow:2px 2px 0 #000;display:block;margin-left:auto;margin-right:auto;}
.back-btn:active {transform:translateY(2px);}
.touch-indicator{position:fixed;width:100px;height:100px;border:3px solid rgba(255,255,255,0.8);border-radius:50%;background:rgba(66,165,245,0.3);display:none;pointer-events:none;z-index:1000;}
.touch-indicator.active{display:block;}
.touch-stick{position:absolute;width:40px;height:40px;background:#42a5f5;border:3px solid #fff;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);}
.notification{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(139,90,43,0.95);border:4px solid #654321;padding:30px 40px;box-shadow:12px 12px 0 rgba(0,0,0,0.5);display:none;z-index:2000;text-align:center;max-width:400px;}
.notification.show{display:block;animation:popIn 0.3s;}
@keyframes popIn{from{transform:translate(-50%,-50%) scale(0.5);}to{transform:translate(-50%,-50%) scale(1);}}
.notification h2{color:#FFD700;font-size:1.5rem;margin-bottom:20px;text-shadow:2px 2px 0 #000;}
.notification p{color:#fff;font-size:0.8rem;line-height:1.8;text-shadow:1px 1px 0 #000;white-space:pre-line;}
.notification button{margin-top:20px;background:#4CAF50;color:#fff;border:3px solid #2E7D32;padding:12px 25px;font-family:'Press Start 2P',cursive;font-size:0.7rem;cursor:pointer;box-shadow:4px 4px 0 rgba(0,0,0,0.3);}
.notification button:active{transform:translateY(2px);box-shadow:2px 2px 0 rgba(0,0,0,0.3);}
@media(max-width:768px){h1{font-size:1.3rem;}.character-name{font-size:0.9rem;}.notification{max-width:90%;padding:20px;}.notification h2{font-size:1.2rem;}.hud-row{font-size:0.55rem;}.mission-text{font-size:0.5rem;}}
@media (min-width:768px) and (max-width:1024px) and (orientation:landscape){.screen{max-width:95%;padding:15px;}h1{font-size:1.6rem;}.character-card{padding:25px;min-width:180px;}.character-avatar{width:100px;height:100px;}.game-hud{padding:10px;}.hud-row{font-size:0.6rem;}.mission-text{font-size:0.55rem;line-height:1.4;}.game-info{padding:10px;}.info-item{font-size:0.6rem;}#gameCanvas{max-width:95%;height:auto;}.controls-info{padding:10px;font-size:0.5rem;line-height:1.4;}.back-btn{padding:10px 20px;font-size:0.65rem;}.notification{max-width:80%;padding:25px 30px;}.notification h2{font-size:1.3rem;}.notification p{font-size:0.7rem;}}
</style>
</head>
<body>

<div class="touch-indicator" id="touchIndicator"><div class="touch-stick" id="touchStick"></div></div>
<div class="notification" id="notification">
<h2 id="notificationTitle">üè† CASA</h2>
<p id="notificationText"></p>
<button id="closeNotifBtn">CERRAR</button>
</div>

<div id="selectionScreen" class="screen active">
<h1>SELECCIONA PERSONAJE</h1>
<p class="subtitle">Explora el mundo</p>
<div class="characters-container">
<div class="character-card" onclick="startGame('cynthia')">
<canvas class="character-avatar" id="cynthiaPreview" width="120" height="120"></canvas>
<h2 class="character-name">CYNTHIA</h2>
<p class="character-stats">VELOCIDAD ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</p>
</div>
<div class="character-card" onclick="startGame('valencia')">
<canvas class="character-avatar" id="valenciaPreview" width="120" height="120"></canvas>
<h2 class="character-name">VALENCIA</h2>
<p class="character-stats">VELOCIDAD ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</p>
</div>
</div>
<button class="back-btn" onclick="window.location.href='index.html'">‚Üê VOLVER</button>
</div>

<div id="gameScreen" class="screen">
<div class="game-hud">
<div class="hud-row">
<div class="hud-item"><span class="hud-label">‚ù§Ô∏è VIDAS:</span> <span class="hud-value" id="lives">5 de 5</span></div>
<div class="hud-item"><span class="hud-label">JUGADOR:</span> <span class="hud-value" id="characterName">-</span></div>
</div>
<div class="hud-row">
<div class="mission-text">üìú MISI√ìN: Buscar a Valencia e ir a encontrar el tesoro</div>
</div>
</div>
<div class="game-info">
<div class="info-item"><span class="info-label">POSICI√ìN:</span> <span class="info-value" id="position">0, 0</span></div>
<div class="info-item"><span class="info-label">TIEMPO:</span> <span class="info-value" id="gameTime">0:00</span></div>
</div>
<canvas id="gameCanvas" width="800" height="600"></canvas>
<div class="controls-info"><p>üì± Toca y arrastra para moverte | üè† Ac√©rcate a las casas | ‚å®Ô∏è Flechas o WASD</p><p>üó∫Ô∏è Explora el mundo abierto!</p></div>
<button class="back-btn" onclick="backToSelection()">‚Üª CAMBIAR</button>
</div>

<script>
function drawCynthiaSprite(ctx,x,y,s){ctx.fillStyle='#FFDBAC';ctx.fillRect(x+4*s,y,8*s,8*s);ctx.fillStyle='#FF69B4';ctx.fillRect(x+3*s,y,10*s,3*s);ctx.fillRect(x+3*s,y+3*s,2*s,5*s);ctx.fillRect(x+11*s,y+3*s,2*s,5*s);ctx.fillStyle='#0066CC';ctx.fillRect(x+5*s,y+3*s,2*s,2*s);ctx.fillRect(x+9*s,y+3*s,2*s,2*s);ctx.fillStyle='#FF6B9D';ctx.fillRect(x+6*s,y+6*s,4*s,s);ctx.fillStyle='#42A5F5';ctx.fillRect(x+4*s,y+8*s,8*s,6*s);ctx.fillStyle='#FFDBAC';ctx.fillRect(x+2*s,y+8*s,2*s,6*s);ctx.fillRect(x+12*s,y+8*s,2*s,6*s);ctx.fillStyle='#1565C0';ctx.fillRect(x+4*s,y+14*s,4*s,6*s);ctx.fillRect(x+8*s,y+14*s,4*s,6*s);ctx.fillStyle='#FF1744';ctx.fillRect(x+4*s,y+20*s,3*s,2*s);ctx.fillRect(x+9*s,y+20*s,3*s,2*s);}
function drawValenciaSprite(ctx,x,y,s){ctx.fillStyle='#D4A574';ctx.fillRect(x+4*s,y,8*s,8*s);ctx.fillStyle='#3E2723';ctx.fillRect(x+4*s,y,8*s,3*s);ctx.fillStyle='#0066CC';ctx.fillRect(x+5*s,y+3*s,2*s,2*s);ctx.fillRect(x+9*s,y+3*s,2*s,2*s);ctx.fillStyle='#8B4513';ctx.fillRect(x+6*s,y+6*s,4*s,s);ctx.fillStyle='#4CAF50';ctx.fillRect(x+4*s,y+8*s,8*s,6*s);ctx.fillStyle='#D4A574';ctx.fillRect(x+2*s,y+8*s,2*s,6*s);ctx.fillRect(x+12*s,y+8*s,2*s,6*s);ctx.fillStyle='#5D4037';ctx.fillRect(x+4*s,y+14*s,4*s,6*s);ctx.fillRect(x+8*s,y+14*s,4*s,6*s);ctx.fillStyle='#212121';ctx.fillRect(x+4*s,y+20*s,3*s,2*s);ctx.fillRect(x+9*s,y+20*s,3*s,2*s);}

let cp=document.getElementById('cynthiaPreview').getContext('2d');cp.imageSmoothingEnabled=false;drawCynthiaSprite(cp,40,20,3);
let vp=document.getElementById('valenciaPreview').getContext('2d');vp.imageSmoothingEnabled=false;drawValenciaSprite(vp,40,20,3);

let canvas,ctx,gameStartTime,gameTimeInterval,animationId;
let player={x:400,y:400,width:32,height:48,speed:4,velocityY:0,isJumping:false,isCynthia:true,lives:5};
const GRAVITY=0.5,JUMP_FORCE=-12,GROUND_Y=520;
let keys={};
const CANVAS_W=800,CANVAS_H=600;
const WORLD_W=3000,WORLD_H=600;
let camera={x:0,y:0};
let houses=[],trees=[],blocks=[];
let touchStartX=0,touchStartY=0,touchActive=false;
const indicator=document.getElementById('touchIndicator');
const stick=document.getElementById('touchStick');

document.getElementById('closeNotifBtn').addEventListener('click',closeNotification);

function startGame(char){
player.isCynthia=(char==='cynthia');
player.speed=player.isCynthia?5:4;
player.lives=5;
document.getElementById('characterName').textContent=player.isCynthia?'CYNTHIA':'VALENCIA';
document.getElementById('lives').textContent='5 de 5';
player.x=400;player.y=GROUND_Y-player.height;player.velocityY=0;player.isJumping=false;
generateWorld();
document.getElementById('selectionScreen').classList.remove('active');
document.getElementById('gameScreen').classList.add('active');
canvas=document.getElementById('gameCanvas');
ctx=canvas.getContext('2d');
ctx.imageSmoothingEnabled=false;
gameStartTime=Date.now();
updateTime();
gameTimeInterval=setInterval(updateTime,1000);
document.addEventListener('keydown',keyDown);
document.addEventListener('keyup',keyUp);
canvas.addEventListener('touchstart',touchStart,{passive:false});
canvas.addEventListener('touchmove',touchMove,{passive:false});
canvas.addEventListener('touchend',touchEnd,{passive:false});
document.body.addEventListener('touchstart',touchStart,{passive:false});
document.body.addEventListener('touchmove',touchMove,{passive:false});
document.body.addEventListener('touchend',touchEnd,{passive:false});
gameLoop();
}

function generateWorld(){
houses=[
{x:600,y:GROUND_Y-120,w:160,h:120,type:'casa',color:'#8B4513',roof:'#D2691E',door:{x:670,y:GROUND_Y-50,w:20,h:50},window:[{x:620,y:GROUND_Y-90,w:30,h:30},{x:730,y:GROUND_Y-90,w:30,h:30}]},
{x:1200,y:GROUND_Y-140,w:180,h:140,type:'casa',color:'#A0522D',roof:'#CD853F',door:{x:1280,y:GROUND_Y-60,w:25,h:60},window:[{x:1220,y:GROUND_Y-110,w:35,h:35},{x:1325,y:GROUND_Y-110,w:35,h:35}]},
{x:2000,y:GROUND_Y-100,w:140,h:100,type:'tienda',color:'#6B8E23',roof:'#556B2F',door:{x:2060,y:GROUND_Y-40,w:20,h:40},window:[{x:2020,y:GROUND_Y-70,w:25,h:25},{x:2095,y:GROUND_Y-70,w:25,h:25}]}
];
trees=[];
for(let i=0;i<15;i++){
let x=Math.random()*(WORLD_W-200)+100;
if(!houses.some(h=>x>h.x-100&&x<h.x+h.w+100)){
trees.push({x:x,y:GROUND_Y-80,w:20,h:80});
}
}
blocks=[];
for(let i=0;i<20;i++){
let x=Math.random()*(WORLD_W-100)+50;
if(!houses.some(h=>x>h.x-50&&x<h.x+h.w+50)){
blocks.push({x:x,y:Math.random()*(GROUND_Y-150)+100,size:20,float:Math.random()*Math.PI*2});
}
}
}

function touchStart(e){
e.preventDefault();
const t=e.touches[0];
touchStartX=t.clientX;
touchStartY=t.clientY;
touchActive=true;
indicator.style.left=(touchStartX-50)+'px';
indicator.style.top=(touchStartY-50)+'px';
indicator.classList.add('active');
}

function touchMove(e){
e.preventDefault();
if(!touchActive)return;
const t=e.touches[0];
const dx=t.clientX-touchStartX;
const dy=t.clientY-touchStartY;
const dist=Math.sqrt(dx*dx+dy*dy);
const maxDist=40;
const limitDist=Math.min(dist,maxDist);
const angle=Math.atan2(dy,dx);
const sx=Math.cos(angle)*limitDist;
const sy=Math.sin(angle)*limitDist;
stick.style.transform=`translate(calc(-50% + ${sx}px),calc(-50% + ${sy}px))`;
const dirX=sx/maxDist;
const dirY=sy/maxDist;
if(dirX<-0.3)player.x=Math.max(0,player.x-player.speed);
if(dirX>0.3)player.x=Math.min(WORLD_W-player.width,player.x+player.speed);
if(dirY<-0.5&&!player.isJumping){player.velocityY=JUMP_FORCE;player.isJumping=true;}
}

function touchEnd(e){
e.preventDefault();
touchActive=false;
stick.style.transform='translate(-50%,-50%)';
indicator.classList.remove('active');
}

function updateTime(){
const e=Math.floor((Date.now()-gameStartTime)/1000);
const m=Math.floor(e/60),s=e%60;
document.getElementById('gameTime').textContent=`${m}:${s.toString().padStart(2,'0')}`;
}

function keyDown(e){
keys[e.key]=true;
if((e.key==='ArrowUp'||e.key==='w'||e.key==='W'||e.key===' ')&&!player.isJumping){
player.velocityY=JUMP_FORCE;player.isJumping=true;
}
if(e.key===' '){
checkSpaceInteraction();
}
e.preventDefault();
}

function keyUp(e){keys[e.key]=false;}

function updatePlayer(){
if(keys['ArrowLeft']||keys['a']||keys['A'])player.x=Math.max(0,player.x-player.speed);
if(keys['ArrowRight']||keys['d']||keys['D'])player.x=Math.min(WORLD_W-player.width,player.x+player.speed);
player.velocityY+=GRAVITY;player.y+=player.velocityY;
if(player.y>=GROUND_Y-player.height){player.y=GROUND_Y-player.height;player.velocityY=0;player.isJumping=false;}
player.y=Math.max(0,player.y);
document.getElementById('position').textContent=`${Math.floor(player.x)}, ${Math.floor(player.y)}`;
}

function updateCamera(){
camera.x=player.x+player.width/2-CANVAS_W/2;
camera.x=Math.max(0,Math.min(camera.x,WORLD_W-CANVAS_W));
camera.y=0;
}

function checkSpaceInteraction(){
houses.forEach(h=>{
const dist=Math.abs((player.x+player.width/2)-(h.x+h.w/2));
if(dist<100&&player.y>=GROUND_Y-player.height-10){
showNotification(h.type==='tienda'?'üè™ TIENDA':'üè† CASA',
'PR√ìXIMAMENTE MISIONES\n\nAqu√≠ podr√°s:\n- Aceptar misiones\n- Conseguir items\n- Hablar con NPCs');
}
});
}

function checkHouseInteraction(){
houses.forEach(h=>{
const dist=Math.abs((player.x+player.width/2)-(h.x+h.w/2));
if(dist<100&&player.y>=GROUND_Y-player.height-10){
h.near=true;
}else{
h.near=false;
}
});
}

function showNotification(title,text){
document.getElementById('notificationTitle').textContent=title;
document.getElementById('notificationText').textContent=text;
document.getElementById('notification').classList.add('show');
}

function closeNotification(){
document.getElementById('notification').classList.remove('show');
}

function drawBg(){
const g=ctx.createLinearGradient(0,0,0,GROUND_Y);
g.addColorStop(0,'#87CEEB');g.addColorStop(1,'#E0F6FF');
ctx.fillStyle=g;ctx.fillRect(0,0,CANVAS_W,GROUND_Y);
ctx.fillStyle='#fff';
[[150,60,50],[450,80,60],[750,50,55]].forEach(c=>{
const x=c[0]-camera.x;
if(x>-100&&x<CANVAS_W+100){
ctx.beginPath();
ctx.arc(x,c[1],c[2]*0.5,0,Math.PI*2);
ctx.arc(x+c[2]*0.4,c[1],c[2]*0.4,0,Math.PI*2);
ctx.arc(x-c[2]*0.4,c[1],c[2]*0.4,0,Math.PI*2);
ctx.fill();
}
});
}

function drawGround(){
ctx.fillStyle='#7EC850';
ctx.fillRect(0,GROUND_Y,CANVAS_W,CANVAS_H-GROUND_Y);
for(let x=0;x<WORLD_W;x+=40){
const screenX=x-camera.x;
if(screenX>-40&&screenX<CANVAS_W){
ctx.fillStyle='#8B4513';
ctx.fillRect(screenX,GROUND_Y,40,40);
ctx.strokeStyle='#654321';ctx.lineWidth=2;
ctx.strokeRect(screenX,GROUND_Y,40,40);
}
}
}

function drawTrees(){
trees.forEach(t=>{
const x=t.x-camera.x;
if(x>-50&&x<CANVAS_W+50){
ctx.fillStyle='#8B4513';ctx.fillRect(x,t.y,t.w,t.h);
ctx.strokeStyle='#654321';ctx.lineWidth=2;ctx.strokeRect(x,t.y,t.w,t.h);
ctx.fillStyle='#228B22';
ctx.beginPath();
ctx.moveTo(x+10,t.y);
ctx.lineTo(x-20,t.y+40);
ctx.lineTo(x+40,t.y+40);
ctx.closePath();
ctx.fill();
ctx.stroke();
ctx.beginPath();
ctx.moveTo(x+10,t.y-20);
ctx.lineTo(x-15,t.y+20);
ctx.lineTo(x+35,t.y+20);
ctx.closePath();
ctx.fill();
ctx.stroke();
}
});
}

function drawHouses(){
houses.forEach(h=>{
const x=h.x-camera.x;
if(x>-200&&x<CANVAS_W+200){
ctx.fillStyle=h.color;
ctx.fillRect(x,h.y,h.w,h.h);
ctx.strokeStyle='#000';ctx.lineWidth=3;
ctx.strokeRect(x,h.y,h.w,h.h);
ctx.fillStyle=h.roof;
ctx.beginPath();
ctx.moveTo(x+h.w/2,h.y-40);
ctx.lineTo(x-20,h.y);
ctx.lineTo(x+h.w+20,h.y);
ctx.closePath();
ctx.fill();
ctx.stroke();
ctx.fillStyle='#654321';
const d=h.door;
ctx.fillRect(x+(d.x-h.x),h.y+(d.y-(h.y+h.h)),d.w,d.h);
ctx.strokeRect(x+(d.x-h.x),h.y+(d.y-(h.y+h.h)),d.w,d.h);
ctx.fillStyle='#87CEEB';
h.window.forEach(w=>{
ctx.fillRect(x+(w.x-h.x),h.y+(w.y-(h.y+h.h)),w.w,w.h);
ctx.strokeStyle='#000';ctx.lineWidth=2;
ctx.strokeRect(x+(w.x-h.x),h.y+(w.y-(h.y+h.h)),w.w,w.h);
ctx.beginPath();
ctx.moveTo(x+(w.x-h.x)+w.w/2,h.y+(w.y-(h.y+h.h)));
ctx.lineTo(x+(w.x-h.x)+w.w/2,h.y+(w.y-(h.y+h.h))+w.h);
ctx.moveTo(x+(w.x-h.x),h.y+(w.y-(h.y+h.h))+w.h/2);
ctx.lineTo(x+(w.x-h.x)+w.w,h.y+(w.y-(h.y+h.h))+w.h/2);
ctx.stroke();
});
if(h.near){
ctx.fillStyle='rgba(255,215,0,0.9)';
ctx.font='11px "Press Start 2P"';
ctx.textAlign='center';
ctx.fillText('PRESIONA',x+h.w/2,h.y-60);
ctx.fillText('ESPACIO',x+h.w/2,h.y-40);
}
}
});
}

function drawBlocks(){
blocks.forEach(b=>{
const x=b.x-camera.x;
if(x>-30&&x<CANVAS_W+30){
b.float+=0.05;
const f=Math.sin(b.float)*3;
ctx.fillStyle='#00CED1';ctx.fillRect(x,b.y+f,b.size,b.size);
ctx.fillStyle='#7FFFD4';ctx.fillRect(x+2,b.y+f+2,b.size-8,b.size-8);
ctx.strokeStyle='#000';ctx.lineWidth=2;ctx.strokeRect(x,b.y+f,b.size,b.size);
}
});
}

function drawPlayer(){
const x=player.x-camera.x;
if(player.isCynthia)drawCynthiaSprite(ctx,x,player.y,2);
else drawValenciaSprite(ctx,x,player.y,2);
}

function gameLoop(){
ctx.clearRect(0,0,CANVAS_W,CANVAS_H);
updatePlayer();
updateCamera();
checkHouseInteraction();
drawBg();
drawGround();
drawTrees();
drawHouses();
drawBlocks();
drawPlayer();
animationId=requestAnimationFrame(gameLoop);
}

function backToSelection(){
if(gameTimeInterval)clearInterval(gameTimeInterval);
if(animationId)cancelAnimationFrame(animationId);
document.removeEventListener('keydown',keyDown);
document.removeEventListener('keyup',keyUp);
canvas.removeEventListener('touchstart',touchStart);
canvas.removeEventListener('touchmove',touchMove);
canvas.removeEventListener('touchend',touchEnd);
document.body.removeEventListener('touchstart',touchStart);
document.body.removeEventListener('touchmove',touchMove);
document.body.removeEventListener('touchend',touchEnd);
closeNotification();
document.getElementById('gameScreen').classList.remove('active');
document.getElementById('selectionScreen').classList.add('active');
}
</script>
</body>
</html>
